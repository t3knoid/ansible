---

- name: Create ansible work folder
  ansible.builtin.file:
    path: "{{ ansible_setup_workdir }}"
    state: directory
    mode: "0755"
  become: false

- name: Install Ansible Python modules
  ansible.builtin.include_tasks: install_python_modules.yml

- name: Checkout Ansible source code from github
  ansible.builtin.include_tasks: checkout_source.yml

- name: Create vault password file
  ansible.builtin.template:
    src: vault_pass.txt.j2
    dest: "~/.vault_pass.txt"
    mode: "0664"
  become: false
